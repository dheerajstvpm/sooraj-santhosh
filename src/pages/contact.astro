---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Contact - Sooraj Santhosh">
  <div class="container mx-auto p-4">
    <h1 class="text-4xl font-bold">Contact Me</h1>
    <form id="contact-form" class="mt-4">
      <div class="mb-4">
        <label for="name" class="block mb-2">Name</label>
        <input type="text" id="name" name="name" class="w-full p-2 border border-gray-300 rounded bg-gray-100 dark:bg-gray-800" required>
      </div>
      <div class="mb-4">
        <label for="email" class="block mb-2">Email</label>
        <input type="email" id="email" name="email" class="w-full p-2 border border-gray-300 rounded bg-gray-100 dark:bg-gray-800" required>
      </div>
      <div class="mb-4">
        <label for="message" class="block mb-2">Message</label>
        <textarea id="message" name="message" rows="4" class="w-full p-2 border border-gray-300 rounded bg-gray-100 dark:bg-gray-800" required></textarea>
      </div>
      <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Submit</button>
    </form>
  </div>
  <script>
    document.getElementById('contact-form')?.addEventListener('submit', function(event) {
      event.preventDefault();
      const nameInput = document.getElementById('name');
      const emailInput = document.getElementById('email');
      const messageInput = document.getElementById('message');

      if (!(nameInput instanceof HTMLInputElement) || !(emailInput instanceof HTMLInputElement) || !(messageInput instanceof HTMLTextAreaElement)) {
        console.error("Form elements not found or are not of the expected type.");
        return;
      }

      const name = nameInput.value;
      const email = emailInput.value;
      const message = messageInput.value;
      const subject = 'Contact Form Submission from ' + name;
      const body = `Name: ${name}\nEmail: ${email}\n\nMessage:\n${message}`;
      const mailtoLink = `mailto:sslive@soorajsanthosh.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
      window.location.href = mailtoLink;
    });
  </script>
</Layout>
